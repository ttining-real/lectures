# 섹션 2. JavaScript 심화

---

## 11. 동기와 비동기

<br>

### 11-1. 동기란?

#### 📌 정의

- 작업을 순서대로 하나씩 처리하는 방식
- 모든 작업이 완료되기 전까지 다음 작업을 실행하지 않는다.
- JavaScript는 기본적으로 동기적으로 코드를 실행한다.
- 예시

  ```javascript
  // 동기적으로 실행된다.
  console.log(1);
  console.log(2);
  console.log(3);

  // ✅ 결과
  // 1
  // 2
  // 3
  ```

<br>

#### 📌 특징

- 실행 순서가 명확하며, 작성된 순서대로 코드가 실행된다.
- 작업이 오래 걸릴 경우, 전체 프로그램의 성능이 저하될 수 있다.

  <br>

#### 📌 단점

- 하나의 작업이 오래 걸릴 경우 다음 작업이 지연되어 프로그램의 응답성이 떨어진다.

<br>

### 11-2. 비동기란?

#### 📌 정의

- 작업을 순서대로 실행하지 않고, 특정 작업이 완료될 때까지 대기하지 않는다.
- 대표적인 비동기 방식 : `setTimeout(콜백 함수, 시간)`

#### 📌 작동 원리

1. 비동기 작업은 자바스크립트 엔진의 호출 스택이 아닌 Web APIs에서 실행된다.
2. 작업이 완료되면 **콜백 큐**에 등록된다.
3. **이벤트 루프(Event Loop)** 가 호출 스택이 비어있는 경우, 콜백 큐의 작업을 호출 스택으로 전달해 실행한다.

> Web APIs란?
>
> 브라우저가 제공하는 별도의 실행 영역으로, 비동기 작업이 처리되는 공간을 말한다.

- 예시

  ```javascript
  console.log(1);
  console.log(2);

  setTimeout(() => {
    console.log("setTimeout");
  }, 3000);

  console.log(3);

  // ✅ 결과
  // 1
  // 2
  // 3
  // setTimeout
  ```

<br>

#### 📌 비동기 실행 순서

1. `console.log(1);` 실행 ➡️ 출력 : `1`
2. `console.log(2);` 실행 ➡️ 출력 : `2`
3. `setTimeout` 실행 ➡️ Web APIs에 등록
4. `console.log(3);` 실행 ➡️ 출력 : `3`
5. 3초 후, Web APIs에서 콜백을 콜백 큐로 이동 ➡️ 이벤트 루프가 호출 스택에 전달
   ➡️ `console.log("setTimeout");` 실행 ➡️ 출력 : `setTimeout`

<br>

#### 📌 이벤트 루프의 작동 원리

1. 호출 스택(Call Stack) : 실행 중인 함수들이 들어오는 공간
2. Web APIs : 비동기 작업이 실행되는 브라우저 관리 공간
3. 콜백 큐(Callback Queue) : 비동기 작업이 완료되면 콜백이 대기하는 공간
4. 이벤트 루프(Event Loop) : 호출 스택이 비어 있으면 콜백 큐에서 작업을 호출 스택으로 이동

<br>

### 1-3. 동기 🆚 비동기

| 구분      | 동기                                        | 비동기                                   |
| --------- | ------------------------------------------- | ---------------------------------------- |
| 실행 방식 | 작업이 순서대로 실행됨                      | 작업 완료와 관계없이 다음 작업 실행 가능 |
| 장점      | 직관적이며 실행 순서가 명확함               | 오래 걸리는 작업도 병렬로 처리 가능      |
| 단점      | 오래 걸리는 작업이 프로그램 전체를 지연시킴 | 실행 순서를 예측하기 어려울 수 있음      |

<br>
